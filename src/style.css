@import "tailwindcss";

/* Configure Tailwind to scan all relevant files */
@source "../*.php";
@source "../src/blocks/**/*.php";
@source "../src/blocks/**/*.js";
@source "../src/utils/**/*.js";
@source "../template-parts/**/*.php";
@source "../inc/**/*.php";

/* Include essential visual controls classes */
@import "./visual-controls.css";

/* Force include responsive grid classes for blocks */
@media (min-width: 768px) {
  .md\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .md\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .md\:grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
}

@media (min-width: 1024px) {
  .lg\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .lg\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .lg\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .lg\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .lg\:grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
}

/* Custom base styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: Inter, system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: Poppins, system-ui, sans-serif;
  }
  
  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
  
  /* Skip link for accessibility */
  .skip-link {
    position: absolute;
    left: -9999px;
    background: #2563eb;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
  }
  
  .skip-link:focus {
    position: absolute;
    left: 1rem;
    top: 1rem;
    z-index: 50;
  }
}

/* Custom components */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500;
    background-color: var(--wp--preset--color--primary);
  }
  
  .btn-primary:hover {
    background-color: var(--wp--preset--color--primary-600);
  }
  
  .btn-secondary {
    @apply bg-pink-500 text-white hover:bg-pink-600 focus:ring-pink-500;
    background-color: var(--wp--preset--color--secondary);
  }
  
  .btn-secondary:hover {
    background-color: var(--wp--preset--color--secondary-600);
  }
  
  .btn-outline {
    @apply bg-white text-gray-700 border-gray-300 hover:bg-gray-50 focus:ring-blue-500;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6;
  }
  
  .form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
  }
}

/* WordPress specific styles */
@layer utilities {
  .wp-block-group {
    @apply flex flex-col gap-6;
  }
  
  .wp-block-columns {
    @apply grid gap-6;
  }
  
  .wp-block-column {
    @apply flex flex-col gap-4;
  }
  
  /* Essential grid classes for blocks */
  .grid { display: grid; }
  .gap-6 { gap: 1.5rem; }
  .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
  
  /* Responsive grid classes with proper escaping */
  @media (min-width: 768px) {
    .md\\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .md\\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .md\\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .md\\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .md\\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
    .md\\:grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
  }
  
  @media (min-width: 1024px) {
    .lg\\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .lg\\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .lg\\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .lg\\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .lg\\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
    .lg\\:grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
  }
  
  /* Fixed alignfull to prevent shifting */
  .alignfull {
    width: 100vw !important;
    max-width: none !important;
    position: relative;
    left: 0 !important;  /* Override any left: 50% */
    right: 0 !important; /* Override any right: 50% */
    margin-left: calc(50% - 50vw) !important;
    margin-right: calc(50% - 50vw) !important;
  }
  
  /* More specific override for body context */
  body .alignfull {
    left: 0 !important;
    right: 0 !important;
  }
  
  /* Ensure frontend block styles work */
  .wp-block-tailwind-starter-feature-grid .features-container {
    display: grid !important;
  }
  
  .wp-block-tailwind-starter-feature-grid .feature-card {
    transition: all 0.3s ease;
  }
  
  .wp-block-tailwind-starter-feature-grid .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  }
  
  .alignwide {
    width: 100%;
    max-width: 72rem;
    margin-left: auto;
    margin-right: auto;
  }
  
  .aligncenter {
    text-align: center;
  }
  
  .alignleft {
    float: left;
    margin-right: 1rem;
    margin-bottom: 1rem;
  }
  
  .alignright {
    float: right;
    margin-left: 1rem;
    margin-bottom: 1rem;
  }
}